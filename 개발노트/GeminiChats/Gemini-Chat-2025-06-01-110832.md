import time
import shutil
import os
from datetime import datetime

SOURCE = r"D:\백업폴더\OneDrive NEW\Obsidian Vault"
DEST_BASE = r"D:\백업폴더\Obsidian_Backup"

def backup():
    now = datetime.now().strftime("%Y%m%d_%H%M%S")
    dest = os.path.join(DEST_BASE, f"backup_{now}")
    try:
        shutil.copytree(SOURCE, dest)
        print(f"[{now}] 백업 완료: {dest}")
    except Exception as e:
        print(f"[{now}] 백업 실패: {e}")

if __name__ == "__main__":
    while True:
        backup()
        time.sleep(60 * 10)  # 10분마다 백업